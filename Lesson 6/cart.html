<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cart</title>
</head>
<body>

<div id="buttons">
    <button class="buy-btn" data-price="15" data-name="Карандаш">Добавить в корзину каранадаш за 15 рублей</button>
    <button class="buy-btn" data-price="250" data-name="Мышь">Добавить в корзину мышь за 250 рублей</button>
    <button class="buy-btn" data-price="350" data-name="Клавиатура">Добавить в корзину клавиатуру за 350 рублей</button>
    <button class="clear-cart">Очистить корзину</button>
</div>
<div id="basket">Количество товаров <span id="goods_amount">0</span>. Итого: <span id="total_price">0</span></div>

<script>

    const cart =
    {
        clearCart() {
            localStorage.setItem('goods_amount','0');
            localStorage.setItem('total_price','0');
        },

        addToCart(price) {
            let amount = parseInt(localStorage.getItem('goods_amount') || '0');
            let totalPrice = parseInt(localStorage.getItem('total_price') || '0');

            amount++;
            totalPrice+=parseInt(price);

            localStorage.setItem('goods_amount', amount);
            localStorage.setItem('total_price', totalPrice);
        },

        buttonHandler(event) {
            if (event.target.classList.contains('buy-btn')) {
                this.addToCart(event.target.dataset.price);
            }
            if (event.target.classList.contains('clear-cart')) {
                this.clearCart();
            }
            this.updateCart();
        },

        updateCart() {
            document.getElementById('goods_amount').innerText = localStorage.getItem('goods_amount') || '0';
            document.getElementById('total_price').innerText = localStorage.getItem('total_price') || '0';
        },

        init() {
            document.getElementById('buttons').addEventListener('click', event => this.buttonHandler(event));
        }
    }

    cart.init();
    window.addEventListener('load', cart.updateCart);

</script>
</body>
</html>